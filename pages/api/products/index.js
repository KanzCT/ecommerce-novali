// pages/api/products/index.js\n\nimport { NextApiRequest, NextApiResponse } from 'next';\n\n// Sample data to simulate a database for products\nlet products = [];\n\n// Handler for product listing and creation\nexport default function handler(req, res) {\n  if (req.method === 'GET') {\n    // Return list of products\n    res.status(200).json(products);\n  } else if (req.method === 'POST') {\n    // Create a new product\n    const { name, price } = req.body;\n    const newProduct = { id: products.length + 1, name, price };\n    products.push(newProduct);\n    res.status(201).json(newProduct);\n  } else {\n    // Handle any other HTTP method\n    res.setHeader('Allow', ['GET', 'POST']);\n    res.status(405).end(`Method ${req.method} Not Allowed`);\n  }\n}